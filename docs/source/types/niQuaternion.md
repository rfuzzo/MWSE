# niQuaternion
<div class="search_terms" style="display: none">niquaternion, quaternion</div>

<!---
	This file is autogenerated. Do not edit this file manually. Your changes will be ignored.
	More information: https://github.com/MWSE/MWSE/tree/master/docs
-->

A rotation in quaternion representation.

## Properties

### `w`
<div class="search_terms" style="display: none">w</div>

The W component of the quaternion.

**Returns**:

* `result` (number)

***

### `x`
<div class="search_terms" style="display: none">x</div>

The X component of the quaternion.

**Returns**:

* `result` (number)

***

### `y`
<div class="search_terms" style="display: none">y</div>

The Y component of the quaternion.

**Returns**:

* `result` (number)

***

### `z`
<div class="search_terms" style="display: none">z</div>

The Z component of the quaternion.

**Returns**:

* `result` (number)

***

## Methods

### `copy`
<div class="search_terms" style="display: none">copy</div>

Creates a copy of the quaternion.

```lua
local result = myObject:copy()
```

**Returns**:

* `result` ([niQuaternion](../types/niQuaternion.md))

***

### `dot`
<div class="search_terms" style="display: none">dot</div>

Calculates the dot product between this quaternion and another.

```lua
local result = myObject:dot(other)
```

**Parameters**:

* `other` ([niQuaternion](../types/niQuaternion.md)): The other quaternion.

**Returns**:

* `result` (number): The dot product result.

***

### `exp`
<div class="search_terms" style="display: none">exp</div>

Calculates the exponential e^q.

```lua
local result = myObject:exp()
```

**Returns**:

* `result` (number): The result.

***

### `fromAngleAxis`
<div class="search_terms" style="display: none">fromangleaxis</div>

Fill the quaternion by converting an angle-axis rotation. The angle must be within the interval [0, PI] and the axis must be unit length.

```lua
myObject:fromAngleAxis(angle, axis)
```

**Parameters**:

* `angle` (number)
* `axis` ([tes3vector3](../types/tes3vector3.md))

***

### `fromRotation`
<div class="search_terms" style="display: none">fromrotation</div>

Fill the quaternion by converting a rotation matrix.

```lua
myObject:fromRotation(matrix)
```

**Parameters**:

* `matrix` ([tes3matrix33](../types/tes3matrix33.md))

***

### `invert`
<div class="search_terms" style="display: none">invert</div>

Inverting or conjugating a rotation quaternion has the effect of reversing the axis of rotation, which modifies it to rotate in the opposite direction from the original. That is, if an object is rotated to a new position using a quaternion, then rotating it again by quaternion's inverse will return it to its original location.

```lua
local result = myObject:invert()
```

**Returns**:

* `result` ([niQuaternion](../types/niQuaternion.md))

***

### `log`
<div class="search_terms" style="display: none">log</div>

Calculates the logarithm log(q).

```lua
local result = myObject:log()
```

**Returns**:

* `result` (number): The result.

***

### `normalize`
<div class="search_terms" style="display: none">normalize</div>

Normalizes the quaternion to unit length in-place. Returns true if result is unit length, false if the quaternion magnitude is very near to zero and cannot be normalized.

```lua
local isNormalized = myObject:normalize()
```

**Returns**:

* `isNormalized` (boolean): If the quaternion was successfully normalized.

***

### `normalized`
<div class="search_terms" style="display: none">normalized</div>

Returns a normalized copy of this quaternion. The quaternion will be all zero if the quaternion magnitude is very near to zero and cannot be normalized.

```lua
local result = myObject:normalized()
```

**Returns**:

* `result` ([niQuaternion](../types/niQuaternion.md)): The normalized quaternion.

***

### `rotateTowards`
<div class="search_terms" style="display: none">rotatetowards</div>

Calculates a spherical linear interpolation between this quaternion and another, limited to a maximum rotation angle. Chooses the shortest path of interpolation between quaternions, which means it minimizes spin but the interpolation arc is limited to pi radians or 180 degrees of interpolation.

```lua
local result = myObject:rotateTowards(target, rotationLimit)
```

**Parameters**:

* `target` ([niQuaternion](../types/niQuaternion.md)): The quaternion to interpolate towards.
* `rotationLimit` (number): The interpolation result will be limited to this maximum angle from the initial quaternion. Angle in radians.

**Returns**:

* `result` ([niQuaternion](../types/niQuaternion.md)): The calculated result.

***

### `slerp`
<div class="search_terms" style="display: none">slerp</div>

Calculates a spherical linear interpolation between this quaternion and another. Chooses the shortest path of interpolation between quaternions, which means it minimizes spin but the interpolation arc is limited to pi radians or 180 degrees of interpolation.

```lua
local result = myObject:slerp(target, transition)
```

**Parameters**:

* `target` ([niQuaternion](../types/niQuaternion.md)): The quaternion to interpolate towards.
* `transition` (number): The interpolation parameter. Must be between `0.0` (closer to this quaternion) and `1.0` (closer to the other quaternion).

**Returns**:

* `result` ([niQuaternion](../types/niQuaternion.md)): The calculated result.

***

### `slerpKeyframe`
<div class="search_terms" style="display: none">slerpkeyframe</div>

Calculates a spherical linear interpolation between this quaternion and another. Does not choose a direction of interpolation. This means the interpolation arc can be up to 2pi radians or 360 degrees, depending on the signs of the quaternions.

```lua
local result = myObject:slerpKeyframe(target, transition)
```

**Parameters**:

* `target` ([niQuaternion](../types/niQuaternion.md)): The quaternion to interpolate towards.
* `transition` (number): The interpolation parameter. Must be between `0.0` (closer to this quaternion) and `1.0` (closer to the other quaternion).

**Returns**:

* `result` ([niQuaternion](../types/niQuaternion.md)): The calculated result.

***

### `toAngleAxis`
<div class="search_terms" style="display: none">toangleaxis</div>

Convert this quaternion into an angle-axis rotation.

```lua
local angle, axis = myObject:toAngleAxis()
```

**Returns**:

* `angle` (number)
* `axis` ([tes3vector3](../types/tes3vector3.md))

***

### `toRotation`
<div class="search_terms" style="display: none">torotation</div>

Convert this quaternion into a rotation matrix.

```lua
local result = myObject:toRotation()
```

**Returns**:

* `result` ([tes3matrix33](../types/tes3matrix33.md))

***

## Functions

### `new`
<div class="search_terms" style="display: none">new</div>

Creates a new niQuaternion object.

```lua
local quaternion = niQuaternion.new(w, x, y, z)
```

**Parameters**:

* `w` (number): *Default*: `0`.
* `x` (number): *Default*: `0`.
* `y` (number): *Default*: `0`.
* `z` (number): *Default*: `0`.

**Returns**:

* `quaternion` ([niQuaternion](../types/niQuaternion.md))

***

## Math Operations

### Multiplication (`*`)

| Left operand type | Right operand type | Result type | Description |
| ----------------- | ------------------ | ----------- | ----------- |
| [niQuaternion](../types/niQuaternion.md) | [niQuaternion](../types/niQuaternion.md) | [niQuaternion](../types/niQuaternion.md) | Multiplies two quaternions. The end effect is that the resulting rotation quaternion is equal to the rotation of both quaternions. |

***

### Unary minus (`-`)

| Result type | Description |
| ----------- | ----------- |
| [niQuaternion](../types/niQuaternion.md) | Unary negation. |

