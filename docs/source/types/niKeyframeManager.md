# niKeyframeManager
<div class="search_terms" style="display: none">nikeyframemanager, keyframemanager</div>

<!---
	This file is autogenerated. Do not edit this file manually. Your changes will be ignored.
	More information: https://github.com/MWSE/MWSE/tree/master/docs
-->

A controller class responsible for controlling the animation sequences stored in the KF file. It controls the animations, and allows to smoothly transition between two animations by blend, morph, and sum transitions.

This type inherits the following: [niTimeController](../types/niTimeController.md), [niObject](../types/niObject.md).
## Properties

### `active`
<div class="search_terms" style="display: none">active</div>

If the controller is active. When inactive, the target does not get updated and animation timing does not advance.

**Returns**:

* `result` (boolean)

***

### `animTimingType`
<div class="search_terms" style="display: none">animtimingtype</div>

How the time parameter passed to the update function is treated. Type 0 is the default, which treats the update time as a delta time. Type 1 treats the update time an offset from the start of the animation.

Maps to values in [`ni.animType`](https://mwse.github.io/MWSE/references/ni/animation-types/) table.

**Returns**:

* `result` ([ni.animType](../references/ni/animation-types.md))

***

### `cumulative`
<div class="search_terms" style="display: none">cumulative</div>

If true, the transformations on the accumulation root are accumulated.

**Returns**:

* `result` (boolean)

***

### `cycleType`
<div class="search_terms" style="display: none">cycletype</div>

The animation cycle type. Type 0 is looping, type 2 is reverse, type 4 is clamped.

Maps to values in [`ni.animCycleType`](https://mwse.github.io/MWSE/references/ni/animation-cycle-types/) table.

**Returns**:

* `result` ([ni.animCycleType](../references/ni/animation-cycle-types.md))

***

### `frequency`
<div class="search_terms" style="display: none">frequency</div>

The animation controller's frequency value. It is a scaling value used to convert from update time units to keyframe time units, if necessary.

**Returns**:

* `result` (number)

***

### `globalScaleRotation`
<div class="search_terms" style="display: none">globalscalerotation</div>

The global character rotation matrix.

**Returns**:

* `result` ([tes3matrix33](../types/tes3matrix33.md))

***

### `globalTranslation`
<div class="search_terms" style="display: none">globaltranslation</div>

The global character translation.

**Returns**:

* `result` ([tes3vector3](../types/tes3vector3.md))

***

### `highKeyFrame`
<div class="search_terms" style="display: none">highkeyframe</div>

This is the end animation key time of the animation controller.

**Returns**:

* `result` (number)

***

### `lastScaledTime`
<div class="search_terms" style="display: none">lastscaledtime</div>

This function returns the last scaled time computed by this controller. The scaled time takes the `frequency` and `phase` into account, along with the `cycleType` and `animTimingType`. This is the last value used to interpolate animation keys.

**Returns**:

* `result` (number)

***

### `lastTime`
<div class="search_terms" style="display: none">lasttime</div>

No description.

**Returns**:

* `result` (number)

***

### `lowKeyFrame`
<div class="search_terms" style="display: none">lowkeyframe</div>

This is the beginning animation key time of the animation controller.

**Returns**:

* `result` (number)

***

### `nextController`
<div class="search_terms" style="display: none">nextcontroller</div>

The next animation controller in the list of controllers containing the calling controller.

**Returns**:

* `result` ([niTimeController](../types/niTimeController.md))

***

### `phase`
<div class="search_terms" style="display: none">phase</div>

The phase value. It is an offset applied to the animation's update time, in seconds.

**Returns**:

* `result` (number)

***

### `refCount`
<div class="search_terms" style="display: none">refcount</div>

*Read-only*. The number of references that exist for this object. When this value reaches zero, the object will be deleted.

**Returns**:

* `result` (number)

***

### `RTTI`
<div class="search_terms" style="display: none">rtti</div>

*Read-only*. The runtime type information for this object. This is an alias for the `.runTimeTypeInformation` property.

**Returns**:

* `result` ([niRTTI](../types/niRTTI.md))

***

### `runTimeTypeInformation`
<div class="search_terms" style="display: none">runtimetypeinformation</div>

*Read-only*. The runtime type information for this object.

**Returns**:

* `result` ([niRTTI](../types/niRTTI.md))

***

### `sequences`
<div class="search_terms" style="display: none">sequences</div>

*Read-only*. The aimation sequences this keyframe manager can blend between.

**Returns**:

* `result` ([niSequence](../types/niSequence.md)[])

***

### `startTime`
<div class="search_terms" style="display: none">starttime</div>

The time at which the animation controller starts playing its animation.

**Returns**:

* `result` (number)

***

### `target`
<div class="search_terms" style="display: none">target</div>

*Read-only*. The scene graph object that this animation controller is to animate.

**Returns**:

* `result` ([niObjectNET](../types/niObjectNET.md))

***

## Methods

### `clone`
<div class="search_terms" style="display: none">clone</div>

Creates a copy of this object.

```lua
local result = myObject:clone()
```

**Returns**:

* `result` ([niObject](../types/niObject.md))

***

### `isInstanceOfType`
<div class="search_terms" style="display: none">isinstanceoftype, instanceoftype</div>

Determines if the object is of a given type, or of a type derived from the given type.

```lua
local result = myObject:isInstanceOfType(type)
```

**Parameters**:

* `type` ([ni.type](../references/ni/types.md)): Use values in the [`ni.type`](https://mwse.github.io/MWSE/references/ni/types/) table.

**Returns**:

* `result` (boolean)

***

### `isOfType`
<div class="search_terms" style="display: none">isoftype, oftype</div>

Determines if the object is of a given type.

```lua
local result = myObject:isOfType(type)
```

**Parameters**:

* `type` ([ni.type](../references/ni/types.md)): Use values in the [`ni.type`](https://mwse.github.io/MWSE/references/ni/types/) table.

**Returns**:

* `result` (boolean)

***

### `saveBinary`
<div class="search_terms" style="display: none">savebinary</div>

Serializes the object, and writes it to the given file.

```lua
local success = myObject:saveBinary(path)
```

**Parameters**:

* `path` (string): The path to write the file at, relative to the Morrowind installation folder.

**Returns**:

* `success` (boolean): If true the object was successfully serialized.

***

### `setTarget`
<div class="search_terms" style="display: none">settarget, target</div>

This method assigns a new target to the animation controller.

```lua
myObject:setTarget(target)
```

**Parameters**:

* `target` ([niObjectNET](../types/niObjectNET.md)): The new target to assign.

***

### `start`
<div class="search_terms" style="display: none">start</div>

Starts the controller at the specified time. Intended for controllers with `animTimingType` of 1.

```lua
myObject:start(time)
```

**Parameters**:

* `time` (number)

***

### `stop`
<div class="search_terms" style="display: none">stop</div>

Stops the controller. If you only want to pause the controller, use the `update` property.

```lua
myObject:stop()
```

