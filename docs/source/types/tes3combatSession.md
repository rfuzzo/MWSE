# tes3combatSession
<div class="search_terms" style="display: none">tes3combatsession, combatsession</div>

<!---
	This file is autogenerated. Do not edit this file manually. Your changes will be ignored.
	More information: https://github.com/MWSE/MWSE/tree/master/docs
-->

A structure that keeps track of combat session data.

## Properties

### `alchemyPriority`
<div class="search_terms" style="display: none">alchemypriority</div>

No description yet available.

**Returns**:

* `result` (number)

***

### `data`
<div class="search_terms" style="display: none">data</div>

A generic lua table that data can be written to, and synced to/from the save. All information stored must be valid for serialization to json.

There is a guide available [here](https://mwse.github.io/MWSE/guides/storing-data/) on using this table.

**Returns**:

* `result` (table)

***

### `distance`
<div class="search_terms" style="display: none">distance</div>

The combat distance.

**Returns**:

* `result` (number)

***

### `lastUseTimestamp`
<div class="search_terms" style="display: none">lastusetimestamp</div>

Used by the MCP to implement enchanted item cooldown.

**Returns**:

* `result` (number)

***

### `mobile`
<div class="search_terms" style="display: none">mobile</div>

*Read-only*. Convenience access back to the associated actor.

**Returns**:

* `result` ([tes3mobileActor](../types/tes3mobileActor.md))

***

### `potionUseFlag`
<div class="search_terms" style="display: none">potionuseflag</div>

No description yet available.

**Returns**:

* `result` (number)

***

### `selectedAction`
<div class="search_terms" style="display: none">selectedaction</div>

The next action. From observed behavior, this roughly maps to:

Value | Behavior
----- | ---------
0     | Undecided
1     | Use melee weapon
2     | Use marksman weapon
3     | Use hand to hand attacks
4     | Use on-touch offensive spell
5     | Use on-target offensive spell
6     | Use summon spell
7     | Flee
8     | Cast on-self empowering spell (For example, Ancestor Guardian)
9     | MaybeEquipUseItem?
10    | Use enchanted item


**Returns**:

* `result` (integer)

***

### `selectedItem`
<div class="search_terms" style="display: none">selecteditem</div>

A potion or an enchanted item whose spell will be used.

**Returns**:

* `result` ([tes3itemStack](../types/tes3itemStack.md))

***

### `selectedShield`
<div class="search_terms" style="display: none">selectedshield</div>

*Read-only*. No description yet available.

**Returns**:

* `result` ([tes3equipmentStack](../types/tes3equipmentStack.md))

***

### `selectedSpell`
<div class="search_terms" style="display: none">selectedspell</div>

This field containg the spell the actor is currently casting. If not in casting state this field has `nil` value.

**Returns**:

* `result` ([tes3spell](../types/tes3spell.md))

***

### `selectedWeapon`
<div class="search_terms" style="display: none">selectedweapon</div>

*Read-only*. The weapon the actor is using in this combat session.

**Returns**:

* `result` ([tes3equipmentStack](../types/tes3equipmentStack.md))

***

### `spellPriority`
<div class="search_terms" style="display: none">spellpriority</div>

No description yet available.

**Returns**:

* `result` (number)

***

## Methods

### `changeEquipment`
<div class="search_terms" style="display: none">changeequipment</div>

This method equips an item to the mobile in this combat sesion.

```lua
myObject:changeEquipment(equipmentStack)
```

**Parameters**:

* `equipmentStack` ([tes3equipmentStack](../types/tes3equipmentStack.md)): An item to equip.

***

### `selectAlchemyWithEffect`
<div class="search_terms" style="display: none">selectalchemywitheffect</div>

Selects the alchemy item with the greatest value, for a given effect ID and loads it into the `selectedItem` property.

```lua
local result = myObject:selectAlchemyWithEffect(id)
```

**Parameters**:

* `id` ([tes3.effect](../references/magic-effects.md)): Maps to values in [`tes3.effect`](https://mwse.github.io/MWSE/references/magic-effects/) table.

**Returns**:

* `result` (number)

