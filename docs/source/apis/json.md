# json
<div class="search_terms" style="display: none">json</div>

<!---
	This file is autogenerated. Do not edit this file manually. Your changes will be ignored.
	More information: https://github.com/MWSE/MWSE/tree/master/docs
-->

Provides support for interacting with json data through an extended dkjson module.

## Properties

### `json.null`
<div class="search_terms" style="display: none">null</div>

You can use this value for setting explicit null values.

**Returns**:

* `result` (number)

***

### `json.version`
<div class="search_terms" style="display: none">version</div>

Current version of dkjson.

**Returns**:

* `result` (string)

***

## Functions

### `json.decode`
<div class="search_terms" style="display: none">decode</div>

Decode string into a table.

!!! warning "json does not support mixed `string` and `number` indices"
	If the encoded table had any `string` indices, then the `table` returned by this function will have no `number` indices. For example, `[1]` could have been converted to `["1"]` in the encoding process.


```lua
local result = json.decode(s, position, nullValue)
```

**Parameters**:

* `s` (string)
* `position` (number): *Default*: `1`.
* `nullValue` (string, nil): *Default*: `nil`.

**Returns**:

* `result` (table)

***

### `json.encode`
<div class="search_terms" style="display: none">encode</div>

Create a string representing the object. Object can be a `table`, `string`, `number`, `boolean`, `nil`, `json.null`,  or any object with a `__tojson` function in its `metatable`. A `table` can only use strings and numbers as keys, and its values have to be valid objects as well. This function will raise an error if called on an invalid data type or on a data structure that contains reference cycles.

!!! warning "json does not support mixed `string` and `number` indices"
	If the encoded table has any `string` indices, then this function will convert all `number` indices to `string` indices. For example, `[1]` could be converted to `["1"]`. This should be taken into account when loading/decoding json files.


```lua
local result = json.encode(object, state)
```

**Parameters**:

* `object` (table)
* `state` (table?)

**Returns**:

* `result` (string)

***

### `json.loadfile`
<div class="search_terms" style="display: none">loadfile</div>

Loads the contents of a file through `json.decode`. Files loaded from "Data Files\\MWSE\\{`fileName`}.json".

!!! warning "json does not support mixed `string` and `number` indices"
	If the encoded table had any `string` indices, then the `table` returned by this function will have no `number` indices. For example, `[1]` could have been converted to `["1"]` in the encoding process.
	If you're using this to load a configuration file for your mod, it's recommended you use [`mwse.loadConfig`](https://mwse.github.io/MWSE/apis/mwse/#mwseloadconfig) instead.


```lua
local result = json.loadfile(fileName)
```

**Parameters**:

* `fileName` (string)

**Returns**:

* `result` (table)

***

### `json.quotestring`
<div class="search_terms" style="display: none">quotestring</div>

Quote a UTF-8 string and escape critical characters using JSON escape sequences. This function is only necessary when you build your own __tojson functions.

```lua
local result = json.quotestring(s)
```

**Parameters**:

* `s` (string)

**Returns**:

* `result` (string)

***

### `json.savefile`
<div class="search_terms" style="display: none">savefile</div>

Saves a serializable table to Data Files\\MWSE\\{`fileName`}.json, using `json.encode`.

```lua
json.savefile(fileName, object, config)
```

**Parameters**:

* `fileName` (string)
* `object` (table)
* `config` (table): *Optional*.

